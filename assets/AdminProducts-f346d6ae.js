import{c as I,L as Ft}from"./index-65a896c4.js";import{_ as pt,o as F,c as q,a as e,d as H,t as G,bm as U,bc as Y,b8 as qt,aj as mt,bp as gt,F as Et,e as Ot,r as et,b as nt}from"./index-43f277a7.js";const jt={props:["product"]},Ut={class:"modal-dialog"},Ht={class:"modal-content border-0"},Kt=e("div",{class:"modal-header bg-danger text-white"},[e("h5",{id:"delProductModalLabel",class:"modal-title"},[e("span",null,"刪除產品")]),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Yt={class:"modal-body"},Wt={class:"text-danger"},zt={class:"modal-footer"},Qt=e("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function Gt(r,u,s,a,i,o){return F(),q("div",Ut,[e("div",Ht,[Kt,e("div",Yt,[H(" 是否刪除 "),e("strong",Wt,G(s.product.title),1),H(" 商品(刪除後將無法恢復)。 ")]),e("div",zt,[Qt,e("button",{type:"button",class:"btn btn-danger",onClick:u[0]||(u[0]=n=>r.$emit("remove-product"))}," 確認刪除 ")])])])}const Jt=pt(jt,[["render",Gt]]),Xt={props:["product"],data(){return{tempProduct:{}}},watch:{product(){this.tempProduct=this.product}},mounted(){console.log(this.product)}},Zt={class:"modal-dialog modal-xl"},te={class:"modal-content border-0"},ee=e("div",{class:"modal-header bg-dark text-white"},[e("h5",{id:"productModalLabel",class:"modal-title"},[e("span",null,"新增產品")]),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ne={class:"modal-body"},se={class:"row"},oe={class:"col-sm-4"},ie={class:"mb-2"},re={class:"mb-3"},ae=e("label",{for:"imageUrl",class:"form-label"},"輸入圖片網址",-1),le=["src"],ce={class:"col-sm-8"},ue={class:"mb-3"},de=e("label",{for:"title",class:"form-label"},[H("標題"),e("span",{class:"text-danger"},"*")],-1),fe={class:"row"},he={class:"mb-3 col-md-6"},pe=e("label",{for:"category",class:"form-label"},[H("分類"),e("span",{class:"text-danger"},"*")],-1),_e={class:"mb-3 col-md-6"},me=e("label",{for:"unit",class:"form-label"},[H("單位"),e("span",{class:"text-danger"},"*")],-1),ge={class:"row"},be={class:"mb-3 col-md-6"},Ee=e("label",{for:"origin_price",class:"form-label"},[H("原價"),e("span",{class:"text-danger"},"*")],-1),ve={class:"mb-3 col-md-6"},ye=e("label",{for:"price",class:"form-label"},[H("售價"),e("span",{class:"text-danger"},"*")],-1),Ae=e("hr",null,null,-1),De={class:"mb-3"},we=e("label",{for:"description",class:"form-label"},"產品描述",-1),Te={class:"mb-3"},Ne=e("label",{for:"content",class:"form-label"},"說明內容",-1),Ce={class:"mb-3"},Se={class:"form-check"},Me=e("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),Pe={class:"modal-footer"},ke=e("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function $e(r,u,s,a,i,o){return F(),q("div",Zt,[e("div",te,[ee,e("div",ne,[e("div",se,[e("div",oe,[e("div",ie,[e("div",re,[ae,U(e("input",{type:"text",class:"form-control",placeholder:"請輸入圖片連結","onUpdate:modelValue":u[0]||(u[0]=n=>i.tempProduct.imageUrl=n)},null,512),[[Y,i.tempProduct.imageUrl]])]),e("img",{class:"img-fluid",src:i.tempProduct.imageUrl},null,8,le)])]),e("div",ce,[e("div",ue,[de,U(e("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入標題","onUpdate:modelValue":u[1]||(u[1]=n=>i.tempProduct.title=n)},null,512),[[Y,i.tempProduct.title]])]),e("div",fe,[e("div",he,[pe,U(e("input",{id:"category",type:"text",class:"form-control",placeholder:"請輸入分類","onUpdate:modelValue":u[2]||(u[2]=n=>i.tempProduct.category=n)},null,512),[[Y,i.tempProduct.category]])]),e("div",_e,[me,U(e("input",{id:"unit",type:"text",class:"form-control",placeholder:"請輸入單位","onUpdate:modelValue":u[3]||(u[3]=n=>i.tempProduct.unit=n)},null,512),[[Y,i.tempProduct.unit]])])]),e("div",ge,[e("div",be,[Ee,U(e("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":u[4]||(u[4]=n=>i.tempProduct.origin_price=n)},null,512),[[Y,i.tempProduct.origin_price]])]),e("div",ve,[ye,U(e("input",{id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入售價","onUpdate:modelValue":u[5]||(u[5]=n=>i.tempProduct.price=n)},null,512),[[Y,i.tempProduct.price]])])]),Ae,e("div",De,[we,U(e("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入產品描述","onUpdate:modelValue":u[6]||(u[6]=n=>i.tempProduct.description=n)},`
              `,512),[[Y,i.tempProduct.description]])]),e("div",Te,[Ne,U(e("textarea",{id:"content",type:"text",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":u[7]||(u[7]=n=>i.tempProduct.content=n)},`
              `,512),[[Y,i.tempProduct.content]])]),e("div",Ce,[e("div",Se,[U(e("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","onUpdate:modelValue":u[8]||(u[8]=n=>i.tempProduct.is_enabled=n),"true-value":1,"false-value":0},null,512),[[qt,i.tempProduct.is_enabled]]),Me])])])])]),e("div",Pe,[ke,e("button",{type:"button",class:"btn btn-primary",onClick:u[9]||(u[9]=n=>r.$emit("update"))},"確認")])])])}const xe=pt(Xt,[["render",$e]]),Oe={props:["pagination"]},Le={"aria-label":"Page navigation example"},Re={class:"pagination"},Ie=e("span",{"aria-hidden":"true"},"«",-1),Ve=[Ie],Be=["onClick"],Fe=e("span",{"aria-hidden":"true"},"»",-1),qe=[Fe];function je(r,u,s,a,i,o){return F(),q("nav",Le,[e("ul",Re,[e("li",{class:mt(["page-item",{disabled:!s.pagination.has_pre}])},[e("a",{class:"page-link",href:"#",onClick:u[0]||(u[0]=gt(n=>r.$emit("emit-page",s.pagination.current_page-1),["prevent"])),"aria-label":"Previous"},Ve)],2),(F(!0),q(Et,null,Ot(s.pagination.total_pages,n=>(F(),q("li",{class:mt(["page-item",{active:n===s.pagination.current_page}]),key:n+"pages"},[e("a",{class:"page-link",href:"#",onClick:gt(p=>r.$emit("emit-page",n),["prevent"])},G(n),9,Be)],2))),128)),e("li",{class:mt(["page-item",{disabled:!s.pagination.has_next}])},[e("a",{class:"page-link",href:"#",onClick:u[1]||(u[1]=gt(n=>r.$emit("emit-page",s.pagination.current_page+1),["prevent"])),"aria-label":"Next"},qe)],2)])])}const Ue=pt(Oe,[["render",je]]);var vt={},He={get exports(){return vt},set exports(r){vt=r}},X={},Ke={get exports(){return X},set exports(r){X=r}};/*!
  * Bootstrap index.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Dt;function W(){return Dt||(Dt=1,function(r,u){(function(s,a){a(u)})(I,function(s){const o="transitionend",n=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),p=t=>{do t+=Math.floor(Math.random()*1e6);while(document.getElementById(t));return t},f=t=>{let d=t.getAttribute("data-bs-target");if(!d||d==="#"){let _=t.getAttribute("href");if(!_||!_.includes("#")&&!_.startsWith("."))return null;_.includes("#")&&!_.startsWith("#")&&(_=`#${_.split("#")[1]}`),d=_&&_!=="#"?_.trim():null}return d},D=t=>{const d=f(t);return d&&document.querySelector(d)?d:null},m=t=>{const d=f(t);return d?document.querySelector(d):null},g=t=>{if(!t)return 0;let{transitionDuration:d,transitionDelay:_}=window.getComputedStyle(t);const M=Number.parseFloat(d),P=Number.parseFloat(_);return!M&&!P?0:(d=d.split(",")[0],_=_.split(",")[0],(Number.parseFloat(d)+Number.parseFloat(_))*1e3)},T=t=>{t.dispatchEvent(new Event(o))},h=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),A=t=>h(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,v=t=>{if(!h(t)||t.getClientRects().length===0)return!1;const d=getComputedStyle(t).getPropertyValue("visibility")==="visible",_=t.closest("details:not([open])");if(!_)return d;if(_!==t){const M=t.closest("summary");if(M&&M.parentNode!==_||M===null)return!1}return d},b=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",$=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const d=t.getRootNode();return d instanceof ShadowRoot?d:null}return t instanceof ShadowRoot?t:t.parentNode?$(t.parentNode):null},V=()=>{},C=t=>{t.offsetHeight},L=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],l=t=>{document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of k)d()}),k.push(t)):t()},c=()=>document.documentElement.dir==="rtl",E=t=>{l(()=>{const d=L();if(d){const _=t.NAME,M=d.fn[_];d.fn[_]=t.jQueryInterface,d.fn[_].Constructor=t,d.fn[_].noConflict=()=>(d.fn[_]=M,t.jQueryInterface)}})},y=t=>{typeof t=="function"&&t()},S=(t,d,_=!0)=>{if(!_){y(t);return}const M=5,P=g(d)+M;let x=!1;const R=({target:j})=>{j===d&&(x=!0,d.removeEventListener(o,R),y(t))};d.addEventListener(o,R),setTimeout(()=>{x||T(d)},P)},N=(t,d,_,M)=>{const P=t.length;let x=t.indexOf(d);return x===-1?!_&&M?t[P-1]:t[0]:(x+=_?1:-1,M&&(x=(x+P)%P),t[Math.max(0,Math.min(x,P-1))])};s.defineJQueryPlugin=E,s.execute=y,s.executeAfterTransition=S,s.findShadowRoot=$,s.getElement=A,s.getElementFromSelector=m,s.getNextActiveElement=N,s.getSelectorFromElement=D,s.getTransitionDurationFromElement=g,s.getUID=p,s.getjQuery=L,s.isDisabled=b,s.isElement=h,s.isRTL=c,s.isVisible=v,s.noop=V,s.onDOMContentLoaded=l,s.reflow=C,s.toType=n,s.triggerTransitionEnd=T,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})}(Ke,X)),X}var it={},Ye={get exports(){return it},set exports(r){it=r}};/*!
  * Bootstrap event-handler.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var wt;function tt(){return wt||(wt=1,function(r,u){(function(s,a){r.exports=a(W())})(I,function(s){const a=/[^.]*(?=\..*)\.|.*/,i=/\..*/,o=/::\d+$/,n={};let p=1;const f={mouseenter:"mouseover",mouseleave:"mouseout"},D=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function m(l,c){return c&&`${c}::${p++}`||l.uidEvent||p++}function g(l){const c=m(l);return l.uidEvent=c,n[c]=n[c]||{},n[c]}function T(l,c){return function E(y){return k(y,{delegateTarget:l}),E.oneOff&&L.off(l,y.type,c),c.apply(l,[y])}}function h(l,c,E){return function y(S){const N=l.querySelectorAll(c);for(let{target:t}=S;t&&t!==this;t=t.parentNode)for(const d of N)if(d===t)return k(S,{delegateTarget:t}),y.oneOff&&L.off(l,S.type,c,E),E.apply(t,[S])}}function A(l,c,E=null){return Object.values(l).find(y=>y.callable===c&&y.delegationSelector===E)}function v(l,c,E){const y=typeof c=="string",S=y?E:c||E;let N=C(l);return D.has(N)||(N=l),[y,S,N]}function b(l,c,E,y,S){if(typeof c!="string"||!l)return;let[N,t,d]=v(c,E,y);c in f&&(t=(_t=>function(K){if(!K.relatedTarget||K.relatedTarget!==K.delegateTarget&&!K.delegateTarget.contains(K.relatedTarget))return _t.call(this,K)})(t));const _=g(l),M=_[d]||(_[d]={}),P=A(M,t,N?E:null);if(P){P.oneOff=P.oneOff&&S;return}const x=m(t,c.replace(a,"")),R=N?h(l,E,t):T(l,t);R.delegationSelector=N?E:null,R.callable=t,R.oneOff=S,R.uidEvent=x,M[x]=R,l.addEventListener(d,R,N)}function $(l,c,E,y,S){const N=A(c[E],y,S);N&&(l.removeEventListener(E,N,Boolean(S)),delete c[E][N.uidEvent])}function V(l,c,E,y){const S=c[E]||{};for(const N of Object.keys(S))if(N.includes(y)){const t=S[N];$(l,c,E,t.callable,t.delegationSelector)}}function C(l){return l=l.replace(i,""),f[l]||l}const L={on(l,c,E,y){b(l,c,E,y,!1)},one(l,c,E,y){b(l,c,E,y,!0)},off(l,c,E,y){if(typeof c!="string"||!l)return;const[S,N,t]=v(c,E,y),d=t!==c,_=g(l),M=_[t]||{},P=c.startsWith(".");if(typeof N<"u"){if(!Object.keys(M).length)return;$(l,_,t,N,S?E:null);return}if(P)for(const x of Object.keys(_))V(l,_,x,c.slice(1));for(const x of Object.keys(M)){const R=x.replace(o,"");if(!d||c.includes(R)){const j=M[x];$(l,_,t,j.callable,j.delegationSelector)}}},trigger(l,c,E){if(typeof c!="string"||!l)return null;const y=s.getjQuery(),S=C(c),N=c!==S;let t=null,d=!0,_=!0,M=!1;N&&y&&(t=y.Event(c,E),y(l).trigger(t),d=!t.isPropagationStopped(),_=!t.isImmediatePropagationStopped(),M=t.isDefaultPrevented());let P=new Event(c,{bubbles:d,cancelable:!0});return P=k(P,E),M&&P.preventDefault(),_&&l.dispatchEvent(P),P.defaultPrevented&&t&&t.preventDefault(),P}};function k(l,c){for(const[E,y]of Object.entries(c||{}))try{l[E]=y}catch{Object.defineProperty(l,E,{configurable:!0,get(){return y}})}return l}return L})}(Ye)),it}var rt={},We={get exports(){return rt},set exports(r){rt=r}};/*!
  * Bootstrap selector-engine.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Tt;function yt(){return Tt||(Tt=1,function(r,u){(function(s,a){r.exports=a(W())})(I,function(s){return{find(i,o=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(o,i))},findOne(i,o=document.documentElement){return Element.prototype.querySelector.call(o,i)},children(i,o){return[].concat(...i.children).filter(n=>n.matches(o))},parents(i,o){const n=[];let p=i.parentNode.closest(o);for(;p;)n.push(p),p=p.parentNode.closest(o);return n},prev(i,o){let n=i.previousElementSibling;for(;n;){if(n.matches(o))return[n];n=n.previousElementSibling}return[]},next(i,o){let n=i.nextElementSibling;for(;n;){if(n.matches(o))return[n];n=n.nextElementSibling}return[]},focusableChildren(i){const o=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(o,i).filter(n=>!s.isDisabled(n)&&s.isVisible(n))}}})}(We)),rt}var at={},ze={get exports(){return at},set exports(r){at=r}},lt={},Qe={get exports(){return lt},set exports(r){lt=r}};/*!
  * Bootstrap manipulator.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Nt;function Lt(){return Nt||(Nt=1,function(r,u){(function(s,a){r.exports=a()})(I,function(){function s(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function a(o){return o.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}return{setDataAttribute(o,n,p){o.setAttribute(`data-bs-${a(n)}`,p)},removeDataAttribute(o,n){o.removeAttribute(`data-bs-${a(n)}`)},getDataAttributes(o){if(!o)return{};const n={},p=Object.keys(o.dataset).filter(f=>f.startsWith("bs")&&!f.startsWith("bsConfig"));for(const f of p){let D=f.replace(/^bs/,"");D=D.charAt(0).toLowerCase()+D.slice(1,D.length),n[D]=s(o.dataset[f])}return n},getDataAttribute(o,n){return s(o.getAttribute(`data-bs-${a(n)}`))}}})}(Qe)),lt}/*!
  * Bootstrap scrollbar.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ct;function Ge(){return Ct||(Ct=1,function(r,u){(function(s,a){r.exports=a(yt(),Lt(),W())})(I,function(s,a,i){const o=h=>h&&typeof h=="object"&&"default"in h?h:{default:h},n=o(s),p=o(a),f=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",D=".sticky-top",m="padding-right",g="margin-right";class T{constructor(){this._element=document.body}getWidth(){const A=document.documentElement.clientWidth;return Math.abs(window.innerWidth-A)}hide(){const A=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,m,v=>v+A),this._setElementAttributes(f,m,v=>v+A),this._setElementAttributes(D,g,v=>v-A)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,m),this._resetElementAttributes(f,m),this._resetElementAttributes(D,g)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(A,v,b){const $=this.getWidth(),V=C=>{if(C!==this._element&&window.innerWidth>C.clientWidth+$)return;this._saveInitialAttribute(C,v);const L=window.getComputedStyle(C).getPropertyValue(v);C.style.setProperty(v,`${b(Number.parseFloat(L))}px`)};this._applyManipulationCallback(A,V)}_saveInitialAttribute(A,v){const b=A.style.getPropertyValue(v);b&&p.default.setDataAttribute(A,v,b)}_resetElementAttributes(A,v){const b=$=>{const V=p.default.getDataAttribute($,v);if(V===null){$.style.removeProperty(v);return}p.default.removeDataAttribute($,v),$.style.setProperty(v,V)};this._applyManipulationCallback(A,b)}_applyManipulationCallback(A,v){if(i.isElement(A)){v(A);return}for(const b of n.default.find(A,this._element))v(b)}}return T})}(ze)),at}var ct={},Je={get exports(){return ct},set exports(r){ct=r}},ut={},Xe={get exports(){return ut},set exports(r){ut=r}};/*!
  * Bootstrap data.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var St;function Ze(){return St||(St=1,function(r,u){(function(s,a){r.exports=a()})(I,function(){const s=new Map;return{set(i,o,n){s.has(i)||s.set(i,new Map);const p=s.get(i);if(!p.has(o)&&p.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(p.keys())[0]}.`);return}p.set(o,n)},get(i,o){return s.has(i)&&s.get(i).get(o)||null},remove(i,o){if(!s.has(i))return;const n=s.get(i);n.delete(o),n.size===0&&s.delete(i)}}})}(Xe)),ut}var dt={},tn={get exports(){return dt},set exports(r){dt=r}};/*!
  * Bootstrap config.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Mt;function At(){return Mt||(Mt=1,function(r,u){(function(s,a){r.exports=a(W(),Lt())})(I,function(s,a){const o=(p=>p&&typeof p=="object"&&"default"in p?p:{default:p})(a);class n{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(f){return f=this._mergeConfigObj(f),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}_configAfterMerge(f){return f}_mergeConfigObj(f,D){const m=s.isElement(D)?o.default.getDataAttribute(D,"config"):{};return{...this.constructor.Default,...typeof m=="object"?m:{},...s.isElement(D)?o.default.getDataAttributes(D):{},...typeof f=="object"?f:{}}}_typeCheckConfig(f,D=this.constructor.DefaultType){for(const m of Object.keys(D)){const g=D[m],T=f[m],h=s.isElement(T)?"element":s.toType(T);if(!new RegExp(g).test(h))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${m}" provided type "${h}" but expected type "${g}".`)}}}return n})}(tn)),dt}/*!
  * Bootstrap base-component.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Pt;function en(){return Pt||(Pt=1,function(r,u){(function(s,a){r.exports=a(Ze(),W(),tt(),At())})(I,function(s,a,i,o){const n=T=>T&&typeof T=="object"&&"default"in T?T:{default:T},p=n(s),f=n(i),D=n(o),m="5.2.2";class g extends D.default{constructor(h,A){super(),h=a.getElement(h),h&&(this._element=h,this._config=this._getConfig(A),p.default.set(this._element,this.constructor.DATA_KEY,this))}dispose(){p.default.remove(this._element,this.constructor.DATA_KEY),f.default.off(this._element,this.constructor.EVENT_KEY);for(const h of Object.getOwnPropertyNames(this))this[h]=null}_queueCallback(h,A,v=!0){a.executeAfterTransition(h,A,v)}_getConfig(h){return h=this._mergeConfigObj(h,this._element),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}static getInstance(h){return p.default.get(a.getElement(h),this.DATA_KEY)}static getOrCreateInstance(h,A={}){return this.getInstance(h)||new this(h,typeof A=="object"?A:null)}static get VERSION(){return m}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(h){return`${h}${this.EVENT_KEY}`}}return g})}(Je)),ct}var ft={},nn={get exports(){return ft},set exports(r){ft=r}};/*!
  * Bootstrap backdrop.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var kt;function sn(){return kt||(kt=1,function(r,u){(function(s,a){r.exports=a(tt(),W(),At())})(I,function(s,a,i){const o=v=>v&&typeof v=="object"&&"default"in v?v:{default:v},n=o(s),p=o(i),f="backdrop",D="fade",m="show",g=`mousedown.bs.${f}`,T={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},h={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class A extends p.default{constructor(b){super(),this._config=this._getConfig(b),this._isAppended=!1,this._element=null}static get Default(){return T}static get DefaultType(){return h}static get NAME(){return f}show(b){if(!this._config.isVisible){a.execute(b);return}this._append();const $=this._getElement();this._config.isAnimated&&a.reflow($),$.classList.add(m),this._emulateAnimation(()=>{a.execute(b)})}hide(b){if(!this._config.isVisible){a.execute(b);return}this._getElement().classList.remove(m),this._emulateAnimation(()=>{this.dispose(),a.execute(b)})}dispose(){this._isAppended&&(n.default.off(this._element,g),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const b=document.createElement("div");b.className=this._config.className,this._config.isAnimated&&b.classList.add(D),this._element=b}return this._element}_configAfterMerge(b){return b.rootElement=a.getElement(b.rootElement),b}_append(){if(this._isAppended)return;const b=this._getElement();this._config.rootElement.append(b),n.default.on(b,g,()=>{a.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(b){a.executeAfterTransition(b,this._getElement(),this._config.isAnimated)}}return A})}(nn)),ft}var ht={},on={get exports(){return ht},set exports(r){ht=r}};/*!
  * Bootstrap focustrap.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var $t;function rn(){return $t||($t=1,function(r,u){(function(s,a){r.exports=a(tt(),yt(),At())})(I,function(s,a,i){const o=L=>L&&typeof L=="object"&&"default"in L?L:{default:L},n=o(s),p=o(a),f=o(i),D="focustrap",g=".bs.focustrap",T=`focusin${g}`,h=`keydown.tab${g}`,A="Tab",v="forward",b="backward",$={autofocus:!0,trapElement:null},V={autofocus:"boolean",trapElement:"element"};class C extends f.default{constructor(k){super(),this._config=this._getConfig(k),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return $}static get DefaultType(){return V}static get NAME(){return D}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),n.default.off(document,g),n.default.on(document,T,k=>this._handleFocusin(k)),n.default.on(document,h,k=>this._handleKeydown(k)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,n.default.off(document,g))}_handleFocusin(k){const{trapElement:l}=this._config;if(k.target===document||k.target===l||l.contains(k.target))return;const c=p.default.focusableChildren(l);c.length===0?l.focus():this._lastTabNavDirection===b?c[c.length-1].focus():c[0].focus()}_handleKeydown(k){k.key===A&&(this._lastTabNavDirection=k.shiftKey?b:v)}}return C})}(on)),ht}var Z={},an={get exports(){return Z},set exports(r){Z=r}};/*!
  * Bootstrap component-functions.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var xt;function ln(){return xt||(xt=1,function(r,u){(function(s,a){a(u,tt(),W())})(I,function(s,a,i){const n=(f=>f&&typeof f=="object"&&"default"in f?f:{default:f})(a),p=(f,D="hide")=>{const m=`click.dismiss${f.EVENT_KEY}`,g=f.NAME;n.default.on(document,m,`[data-bs-dismiss="${g}"]`,function(T){if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),i.isDisabled(this))return;const h=i.getElementFromSelector(this)||this.closest(`.${g}`);f.getOrCreateInstance(h)[D]()})};s.enableDismissTrigger=p,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})}(an,Z)),Z}/*!
  * Bootstrap modal.js v5.2.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(r,u){(function(s,a){r.exports=a(W(),tt(),yt(),Ge(),en(),sn(),rn(),ln())})(I,function(s,a,i,o,n,p,f,D){const m=Q=>Q&&typeof Q=="object"&&"default"in Q?Q:{default:Q},g=m(a),T=m(i),h=m(o),A=m(n),v=m(p),b=m(f),$="modal",C=".bs.modal",L=".data-api",k="Escape",l=`hide${C}`,c=`hidePrevented${C}`,E=`hidden${C}`,y=`show${C}`,S=`shown${C}`,N=`resize${C}`,t=`click.dismiss${C}`,d=`mousedown.dismiss${C}`,_=`keydown.dismiss${C}`,M=`click${C}${L}`,P="modal-open",x="fade",R="show",j="modal-static",_t=".modal.show",K=".modal-dialog",Rt=".modal-body",It='[data-bs-toggle="modal"]',Vt={backdrop:!0,focus:!0,keyboard:!0},Bt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class z extends A.default{constructor(w,O){super(w,O),this._dialog=T.default.findOne(K,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new h.default,this._addEventListeners()}static get Default(){return Vt}static get DefaultType(){return Bt}static get NAME(){return $}toggle(w){return this._isShown?this.hide():this.show(w)}show(w){this._isShown||this._isTransitioning||g.default.trigger(this._element,y,{relatedTarget:w}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(P),this._adjustDialog(),this._backdrop.show(()=>this._showElement(w)))}hide(){!this._isShown||this._isTransitioning||g.default.trigger(this._element,l).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(R),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const w of[window,this._dialog])g.default.off(w,C);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new v.default({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new b.default({trapElement:this._element})}_showElement(w){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const O=T.default.findOne(Rt,this._dialog);O&&(O.scrollTop=0),s.reflow(this._element),this._element.classList.add(R);const B=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,g.default.trigger(this._element,S,{relatedTarget:w})};this._queueCallback(B,this._dialog,this._isAnimated())}_addEventListeners(){g.default.on(this._element,_,w=>{if(w.key===k){if(this._config.keyboard){w.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),g.default.on(window,N,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),g.default.on(this._element,d,w=>{g.default.one(this._element,t,O=>{if(!(this._element!==w.target||this._element!==O.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(P),this._resetAdjustments(),this._scrollBar.reset(),g.default.trigger(this._element,E)})}_isAnimated(){return this._element.classList.contains(x)}_triggerBackdropTransition(){if(g.default.trigger(this._element,c).defaultPrevented)return;const O=this._element.scrollHeight>document.documentElement.clientHeight,B=this._element.style.overflowY;B==="hidden"||this._element.classList.contains(j)||(O||(this._element.style.overflowY="hidden"),this._element.classList.add(j),this._queueCallback(()=>{this._element.classList.remove(j),this._queueCallback(()=>{this._element.style.overflowY=B},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const w=this._element.scrollHeight>document.documentElement.clientHeight,O=this._scrollBar.getWidth(),B=O>0;if(B&&!w){const J=s.isRTL()?"paddingLeft":"paddingRight";this._element.style[J]=`${O}px`}if(!B&&w){const J=s.isRTL()?"paddingRight":"paddingLeft";this._element.style[J]=`${O}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(w,O){return this.each(function(){const B=z.getOrCreateInstance(this,w);if(typeof w=="string"){if(typeof B[w]>"u")throw new TypeError(`No method named "${w}"`);B[w](O)}})}}return g.default.on(document,M,It,function(Q){const w=s.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Q.preventDefault(),g.default.one(w,y,J=>{J.defaultPrevented||g.default.one(w,E,()=>{s.isVisible(this)&&this.focus()})});const O=T.default.findOne(_t);O&&z.getInstance(O).hide(),z.getOrCreateInstance(w).toggle(this)}),D.enableDismissTrigger(z),s.defineJQueryPlugin(z),z})})(He);const bt=vt,{VITE_USER:st,VITE_PATH:ot}={VITE_USER:"youting",VITE_PATH:"https://vue3-course-api.hexschool.io",BASE_URL:"/vue-week6/",MODE:"production",DEV:!1,PROD:!0},cn={data(){return{isLoading:!1,products:[],bsModal:"",isNew:!0,tempProduct:{},pagination:{}}},components:{Loading:Ft,DelModal:Jt,ProductModal:xe,Pagination:Ue},methods:{getProducts(r=1){this.isLoading=!0,this.$http.get(`${ot}/v2/api/${st}/admin/products?page=${r}`).then(u=>{this.products=u.data.products,this.pagination=u.data.pagination,this.isLoading=!1}).catch(()=>{this.isLoading=!1,this.$router.push("/login")})},openProductModal(r,u){r?(this.tempProduct={},this.isNew=!0):(this.tempProduct={...u},this.isNew=!1),this.bsModal=new bt(this.$refs.productModal),this.bsModal.show()},updateProduct(){let r=`${ot}/api/${st}/admin/product`,u="post";this.isNew||(r=`${ot}/api/${st}/admin/product/${this.tempProduct.id}`,u="put"),this.$http[u](r,{data:this.tempProduct}).then(()=>{this.getProducts()}).catch(s=>{alert(s.message)}),this.bsModal.hide()},openRemoveModal(r){this.tempProduct={...r},this.bsModal=new bt(this.$refs.delProductModal),this.bsModal.show()},removeProduct(){this.$http.delete(`${ot}/api/${st}/admin/product/${this.tempProduct.id}`).then(()=>{this.getProducts()}).catch(r=>{alert(r.message)}),this.bsModal.hide()}},mounted(){this.getProducts(),this.bsModal=new bt(this.$refs.productModal)}},un={class:"text-end mt-4"},dn=e("h2",null,"產品列表",-1),fn={class:"table table-hover mt-4"},hn=e("thead",null,[e("tr",null,[e("th",{width:"150"},"產品名稱"),e("th",{width:"120"},"原價"),e("th",{width:"120"},"售價"),e("th",{width:"150"},"是否啟用"),e("th",{width:"120"},"編輯產品")])],-1),pn={width:"150"},_n={width:"120"},mn={width:"120"},gn={width:"150"},bn={key:0,class:"text-success"},En={key:1},vn={width:"120"},yn={class:"btn-group",role:"group","aria-label":"Basic mixed styles example"},An=["onClick"],Dn=["onClick"],wn={class:"d-flex justify-content-center"},Tn={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},Nn={id:"delProductModal",ref:"delProductModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"};function Cn(r,u,s,a,i,o){const n=et("loading"),p=et("Pagination"),f=et("ProductModal"),D=et("DelModal");return F(),q(Et,null,[e("div",null,[nt(n,{active:i.isLoading},null,8,["active"]),e("div",un,[e("button",{class:"btn btn-primary",onClick:u[0]||(u[0]=m=>o.openProductModal(!0))}," 建立新的產品 ")]),dn,e("table",fn,[hn,e("tbody",null,[(F(!0),q(Et,null,Ot(i.products,m=>(F(),q("tr",{key:m.id},[e("td",pn,G(m.title),1),e("td",_n,G(m.origin_price),1),e("td",mn,G(m.price),1),e("td",gn,[m.is_enabled?(F(),q("span",bn,"啟用")):(F(),q("span",En,"未啟用"))]),e("td",vn,[e("div",yn,[e("button",{type:"button",class:"btn btn-secondary",onClick:g=>o.openProductModal(!1,m)}," 編輯 ",8,An),e("button",{type:"button",class:"btn btn-outline-danger",onClick:g=>o.openRemoveModal(m)}," 刪除 ",8,Dn)])])]))),128))])]),e("p",null,[H(" 目前有 "),e("span",null,G(i.products.length),1),H(" 項產品 ")]),e("div",wn,[nt(p,{pagination:i.pagination,onEmitPage:o.getProducts},null,8,["pagination","onEmitPage"])])]),e("div",Tn,[nt(f,{isNew:i.isNew,product:i.tempProduct,onUpdate:o.updateProduct},null,8,["isNew","product","onUpdate"])],512),e("div",Nn,[nt(D,{product:i.tempProduct,onRemoveProduct:o.removeProduct},null,8,["product","onRemoveProduct"])],512)],64)}const Pn=pt(cn,[["render",Cn]]);export{Pn as default};
